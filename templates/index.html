<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üõçÔ∏èEJ E-Commerce Home</title>
    <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-2c7831bb44f98c1391d6a4ffda0e1fd302503391ca806e7fcc7b9b87197aec26.js"></script>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.css'>
    
  <style>
  @media (min-width: 768px) {
    /* show 3 items */
    .carousel-inner .active,
  .carousel-inner .active + .carousel-item,
  .carousel-inner .active + .carousel-item + .carousel-item {
      display: block;
    }
  
    .carousel-inner .carousel-item.active:not(.carousel-item-right):not(.carousel-item-left),
  .carousel-inner .carousel-item.active:not(.carousel-item-right):not(.carousel-item-left) + .carousel-item,
  .carousel-inner .carousel-item.active:not(.carousel-item-right):not(.carousel-item-left) + .carousel-item + .carousel-item {
      transition: none;
    }
  
    .carousel-inner .carousel-item-next,
  .carousel-inner .carousel-item-prev {
      position: relative;
      transform: translate3d(0, 0, 0);
    }
  
    .carousel-inner .active.carousel-item + .carousel-item + .carousel-item + .carousel-item {
      position: absolute;
      top: 0;
      right: -33.3333%;
      z-index: -1;
      display: block;
      visibility: visible;
    }
  
    /* left or forward direction */
    .active.carousel-item-left + .carousel-item-next.carousel-item-left,
  .carousel-item-next.carousel-item-left + .carousel-item,
  .carousel-item-next.carousel-item-left + .carousel-item + .carousel-item,
  .carousel-item-next.carousel-item-left + .carousel-item + .carousel-item + .carousel-item {
      position: relative;
      transform: translate3d(-100%, 0, 0);
      visibility: visible;
    }
  
    /* farthest right hidden item must be abso position for animations */
    .carousel-inner .carousel-item-prev.carousel-item-right {
      position: absolute;
      top: 0;
      left: 0;
      z-index: -1;
      display: block;
      visibility: visible;
    }
  
    /* right or prev direction */
    .active.carousel-item-right + .carousel-item-prev.carousel-item-right,
  .carousel-item-prev.carousel-item-right + .carousel-item,
  .carousel-item-prev.carousel-item-right + .carousel-item + .carousel-item,
  .carousel-item-prev.carousel-item-right + .carousel-item + .carousel-item + .carousel-item {
      position: relative;
      transform: translate3d(100%, 0, 0);
      visibility: visible;
      display: block;
      visibility: visible;
    }
  }
  </style>
  </head>
<body>
  {% block content %}
  {%include "header.html" %}


<!-- Documentation -->
<div class="container col-xxl-8 px-4 mt-5 py-5" >
    <div class="row flex-lg-row-reverse align-items-center g-5 py-2">
      <div class="col-12 col-sm-12 col-lg-6">
        <img src="https://www.iasexpress.net/wp-content/uploads/2022/08/E-commerce-sector-in-India-upsc.jpg" class="d-block mx-lg-auto img-fluid" alt="Bootstrap Themes" width="700" height="500" loading="lazy">
      </div>
      <div class="col-lg-6">
        <h4 class="display-6 fw-bold text-body-emphasis lh-1 mt-4 mb-1">Development</h4>
        <p class="lead" style="font-weight: normal;">EJ E-Commerce Website is developed with the help of Marketstack API. It provides payments, finance and more for apps and websites. Check out marketstack Api for better understanding on payment APIs</p>
        <div>
        <a class="col-4" href="https://marketstack.com"><button type="button" class="btn btn-primary px-4">Check API</button></a>
        </div>
      </div>
    </div>
    {% if not login: %}
    <br>
    <br>
    <br>
    <h2 style="text-align: center;color:green;">{{logout}}</h2>
  {% endif %}
  </div>



  {%if user:%}
  <!-- Carosusel -->
  <div class="container mb-5" style="width: 85%;">
    <h3 class="m-3">Productsüõí</h4>
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner row w-100 mx-auto">

        <div class="carousel-item col-md-4 active">
            <div class="card">
                <form class="dark" action="{{url_for('product_details',id=product_id[0])}}" method="post">
                <button id="click_modal" type="submit" class="btn" style="background-color: white;">
                    <img class="card-img-top img-fluid" src="{{images[0]}}" alt="Card image cap">
                  </button>
                </form>
              <div class="card-body">
                <h4 class="card-title">{{names[0]}}</h4>
                <p class="card-text" style="font-size: large;"> ‚Çπ{{prices[0]}} INR</p>
              </div>
            </div>
          </div>
          {% for i in range(1,len-1)%}
          <div class="carousel-item col-md-4">
            <div class="card">
              <div>
                <form class="dark"  action="{{url_for('product_details',id=product_id[i])}}" method="post">
                  <button id="click_modal" type="submit" class="btn" style="background-color: white;">
                      <img class="card-img-top img-fluid" src="{{images[i]}}" alt="Card image cap">
                    </button>
                  </form>
              </div>
              <div class="card-body">
                <h4 class="card-title">{{names[i]}}</h4> 
                <p class="card-text"  style="font-size: large;"> ‚Çπ{{prices[i]}} INR</p>
              </div>
            </div>
          </div>
          {% endfor%}
      </div>
      <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>


  {% endif %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src='https://code.jquery.com/jquery-1.12.4.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.min.js'></script>

  
    
    <script id="rendered-js" >
    $(document).ready(function () {
      $("#myCarousel").on("slide.bs.carousel", function (e) {
        var $e = $(e.relatedTarget);
        var idx = $e.index();
        var itemsPerSlide = 3;
        var totalItems = $(".carousel-item").length;
    
        if (idx >= totalItems - (itemsPerSlide - 1)) {
          var it = itemsPerSlide - (totalItems - idx);
          for (var i = 0; i < it; i++) {if (window.CP.shouldStopExecution(0)) break;
            // append slides to end
            if (e.direction == "left") {
              $(".carousel-item").
              eq(i).
              appendTo(".carousel-inner");
            } else {
              $(".carousel-item").
              eq(0).
              appendTo($(this).find(".carousel-inner"));
            }
          }window.CP.exitedLoop(0);
        }
      });
    });


      $(function () {
        $(".button").on("click", function () {
          var $button = $(this);
          var $parent = $button.parent();
          var oldValue = $parent.find('.input').val();
      
          if ($button.text() == "+") {
            var newVal = parseFloat(oldValue) + 1;
          } else {
            if (oldValue > 1) {
              var newVal = parseFloat(oldValue) - 1;
            } else {
              newVal = 1;
            }
          }
          $parent.find('a.add-to-cart').attr('data-quantity', newVal);
          $parent.find('.input').val(newVal);
        });
      });
        </script>

</body>
{% include "footer.html" %}
{% endblock %}